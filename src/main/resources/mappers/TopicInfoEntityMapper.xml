<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.lyx.examsystem.dao.TopicInfoEntityMapper" >
  <resultMap id="BaseResultMap" type="com.lyx.examsystem.entity.TopicInfoEntity" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="ID" property="id" jdbcType="INTEGER" />
    <result column="Type" property="type" jdbcType="NVARCHAR" />
    <result column="Title" property="title" jdbcType="NVARCHAR" />
    <result column="OptionA" property="optiona" jdbcType="NVARCHAR" />
    <result column="OptionB" property="optionb" jdbcType="NVARCHAR" />
    <result column="OptionC" property="optionc" jdbcType="NVARCHAR" />
    <result column="OptionD" property="optiond" jdbcType="NVARCHAR" />
    <result column="OptionE" property="optione" jdbcType="NVARCHAR" />
    <result column="OptionF" property="optionf" jdbcType="NVARCHAR" />
    <result column="Result" property="result" jdbcType="NVARCHAR" />
    <result column="Complexity" property="complexity" jdbcType="NVARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    ID, Type, Title, OptionA, OptionB, OptionC, OptionD, OptionE, OptionF, Result, Complexity
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from TopicInfo
    where ID = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from TopicInfo
    where ID = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.lyx.examsystem.entity.TopicInfoEntity" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into TopicInfo (ID, Type, Title, 
      OptionA, OptionB, OptionC, 
      OptionD, OptionE, OptionF, 
      Result, Complexity)
    values (#{id,jdbcType=INTEGER}, #{type,jdbcType=NVARCHAR}, #{title,jdbcType=NVARCHAR}, 
      #{optiona,jdbcType=NVARCHAR}, #{optionb,jdbcType=NVARCHAR}, #{optionc,jdbcType=NVARCHAR}, 
      #{optiond,jdbcType=NVARCHAR}, #{optione,jdbcType=NVARCHAR}, #{optionf,jdbcType=NVARCHAR}, 
      #{result,jdbcType=NVARCHAR}, #{complexity,jdbcType=NVARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.lyx.examsystem.entity.TopicInfoEntity" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into TopicInfo
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        ID,
      </if>
      <if test="type != null" >
        Type,
      </if>
      <if test="title != null" >
        Title,
      </if>
      <if test="optiona != null" >
        OptionA,
      </if>
      <if test="optionb != null" >
        OptionB,
      </if>
      <if test="optionc != null" >
        OptionC,
      </if>
      <if test="optiond != null" >
        OptionD,
      </if>
      <if test="optione != null" >
        OptionE,
      </if>
      <if test="optionf != null" >
        OptionF,
      </if>
      <if test="result != null" >
        Result,
      </if>
      <if test="complexity != null" >
        Complexity,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="type != null" >
        #{type,jdbcType=NVARCHAR},
      </if>
      <if test="title != null" >
        #{title,jdbcType=NVARCHAR},
      </if>
      <if test="optiona != null" >
        #{optiona,jdbcType=NVARCHAR},
      </if>
      <if test="optionb != null" >
        #{optionb,jdbcType=NVARCHAR},
      </if>
      <if test="optionc != null" >
        #{optionc,jdbcType=NVARCHAR},
      </if>
      <if test="optiond != null" >
        #{optiond,jdbcType=NVARCHAR},
      </if>
      <if test="optione != null" >
        #{optione,jdbcType=NVARCHAR},
      </if>
      <if test="optionf != null" >
        #{optionf,jdbcType=NVARCHAR},
      </if>
      <if test="result != null" >
        #{result,jdbcType=NVARCHAR},
      </if>
      <if test="complexity != null" >
        #{complexity,jdbcType=NVARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.lyx.examsystem.entity.TopicInfoEntity" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update TopicInfo
    <set >
      <if test="type != null" >
        Type = #{type,jdbcType=NVARCHAR},
      </if>
      <if test="title != null" >
        Title = #{title,jdbcType=NVARCHAR},
      </if>
      <if test="optiona != null" >
        OptionA = #{optiona,jdbcType=NVARCHAR},
      </if>
      <if test="optionb != null" >
        OptionB = #{optionb,jdbcType=NVARCHAR},
      </if>
      <if test="optionc != null" >
        OptionC = #{optionc,jdbcType=NVARCHAR},
      </if>
      <if test="optiond != null" >
        OptionD = #{optiond,jdbcType=NVARCHAR},
      </if>
      <if test="optione != null" >
        OptionE = #{optione,jdbcType=NVARCHAR},
      </if>
      <if test="optionf != null" >
        OptionF = #{optionf,jdbcType=NVARCHAR},
      </if>
      <if test="result != null" >
        Result = #{result,jdbcType=NVARCHAR},
      </if>
      <if test="complexity != null" >
        Complexity = #{complexity,jdbcType=NVARCHAR},
      </if>
    </set>
    where ID = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.lyx.examsystem.entity.TopicInfoEntity" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update TopicInfo
    set Type = #{type,jdbcType=NVARCHAR},
      Title = #{title,jdbcType=NVARCHAR},
      OptionA = #{optiona,jdbcType=NVARCHAR},
      OptionB = #{optionb,jdbcType=NVARCHAR},
      OptionC = #{optionc,jdbcType=NVARCHAR},
      OptionD = #{optiond,jdbcType=NVARCHAR},
      OptionE = #{optione,jdbcType=NVARCHAR},
      OptionF = #{optionf,jdbcType=NVARCHAR},
      Result = #{result,jdbcType=NVARCHAR},
      Complexity = #{complexity,jdbcType=NVARCHAR}
    where ID = #{id,jdbcType=INTEGER}
  </update>
  <select id="selectCountByContent" resultType="java.lang.Integer" parameterType="java.lang.String">
    select count(1) from TopicInfo
    <where>
      <if test="@org.apache.commons.lang.StringUtils@isNotBlank(content)">
        Titlle like #{content,jdbcType=VARCHAR}
        or Result like #{content,jdbcType=VARCHAR}
      </if>
      and 1=1
    </where>
  </select>
  <select id="selectPageByContent" resultMap="BaseResultMap" useCache="false">
    <if test="pageNum != null and pageSize != null">
      select top ${pageSize} o.* from (select row_number() over(order by Type desc) as rownumber,* from (
    </if>
    select
    <include refid="Base_Column_List"/>
    from TopicInfo
    <where>
      <if test="@org.apache.commons.lang.StringUtils@isNotBlank(content)">
        Title like #{content,jdbcType=VARCHAR}
        or Result like #{content,jdbcType=VARCHAR}
      </if>
      and 1=1
    </where>
    <if test="pageNum != null and pageSize != null">
      ) as oo ) as o where rownumber > (${pageNum}-1)*${pageSize} ;
    </if>
  </select>
  <delete id="deleteByIds" parameterType="java.lang.String">
        delete from TopicInfo
        where ID in( #{ids,jdbcType=VARCHAR})
    </delete>
  <select id="selectListByRandom" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List"/>
    from (SELECT TOP 100 * FROM TopicInfo ORDER BY NEWID())as TopicInfo order by type
  </select>
</mapper>